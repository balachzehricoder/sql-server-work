CREATE DATABASE db_company;

USE db_company;

CREATE TABLE tb_DEPT
(
	DEPTNO int PRIMARY KEY,
	DNAME varchar (50) NOT NULL UNIQUE,
	LOC varchar (50) NOT NULL
);

CREATE TABLE tb_EMP
(
	EMPNO int PRIMARY KEY,
	ENAME varchar (50) NOT NULL,
	JOB varchar (50) NOT NULL,
	MGR int,
	HIREDATE date NOT NULL,
	SAL int NOT NULL,
	COMM int,
	DEPTNO int /*NOT NULL*/,

	FOREIGN KEY (DEPTNO) REFERENCES tb_DEPT(DEPTNO),
	FOREIGN KEY (MGR) REFERENCES tb_EMP(EMPNO)
);


CREATE TABLE tb_SALGRADE 
(
	GRADE int PRIMARY KEY,
	LOSAL int NOT NULL,
	HISAL int NOT NULL
);

CREATE TABLE tb_JOB_HISTORY
(
	EMPNO int NOT NULL,
	JOB varchar (50) NOT NULL,
	START_DATE date NOT NULL,
	END_DATE date NOT NULL,

	CONSTRAINT PK_JOB_HISTORY PRIMARY KEY (EMPNO, START_DATE),
	FOREIGN KEY (EMPNO) REFERENCES tb_EMP(EMPNO)
);

/* tb_DEPT */

INSERT INTO tb_DEPT (DEPTNO, DNAME, LOC) VALUES (10, 'ACCOUNTING', 'NEW YORK');
INSERT INTO tb_DEPT (DEPTNO, DNAME, LOC) VALUES (20, 'RESEARCH', 'DALLAS');
INSERT INTO tb_DEPT (DEPTNO, DNAME, LOC) VALUES (30, 'SALES', 'CHICAGO');
INSERT INTO tb_DEPT (DEPTNO, DNAME, LOC) VALUES (40, 'OPERATIONS', 'BOSTON');

/* tb_EMP */


INSERT INTO tb_EMP (EMPNO, ENAME, JOB, HIREDATE, SAL, DEPTNO)
VALUES (7839, 'KING', 'PRESIDENT', '17-NOV-81', 5000, 10);

INSERT INTO tb_EMP (EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, DEPTNO)
VALUES (7698, 'BLAKE', 'MANAGER', 7839, '1981-5-1', 2850, 30);

INSERT INTO tb_EMP (EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, DEPTNO)
VALUES (7782, 'CLARK', 'MANAGER', 7839, '1981-6-9', 2450, 10);

INSERT INTO tb_EMP (EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, DEPTNO)
VALUES (7566, 'JONES', 'MANAGER', 7839, '1981-4-2', 2975, 20);

INSERT INTO tb_EMP (EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, COMM, DEPTNO)
VALUES (7654, 'MARTIN', 'SALESMAN', 7698, '1981-8-28', 1250, 1400, 30);

INSERT INTO tb_EMP (EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, COMM, DEPTNO)
VALUES (7499, 'ALLEN', 'SALESMAN', 7698, '1981-2-2', 1600, 300, 30);

INSERT INTO tb_EMP (EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, COMM, DEPTNO)
VALUES (7844, 'TURNER', 'SALESMAN', 7698, '1981-8-8', 1500, 0, 30);

INSERT INTO tb_EMP (EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, DEPTNO)
VALUES (7900, 'JAMES', 'CLERK', 7698, '1981-12-3', 950, 30);

INSERT INTO tb_EMP (EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, COMM, DEPTNO)
VALUES (7521, 'WARD', 'SALESMAN', 7698, '1981-2-2', 1250, 500, 30);

INSERT INTO tb_EMP (EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, DEPTNO)
VALUES (7902, 'FORD', 'ANALYST', 7566, '1981-12-3', 3000, 20);

INSERT INTO tb_EMP (EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, DEPTNO)
VALUES (7369, 'SMITH', 'CLERK', 7902, '1980-12-3', 800, 20);

INSERT INTO tb_EMP (EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, DEPTNO)
VALUES (7788, 'SCOTT', 'ANALYST', 7566, '1982-12-9', 3000, 20);

INSERT INTO tb_EMP (EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, DEPTNO)
VALUES (7876, 'ADAM', 'CLERK', 7788, '1983-1-12', 1100, 20);

INSERT INTO tb_EMP (EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, DEPTNO)
VALUES (7934, 'MILLER', 'CLERK', 7782, '1982-1-23', 1300, 10);

INSERT INTO tb_emp (EMPNO, ENAME, JOB, MGR, SAL, HIREDATE) 
VALUES (2345, 'JOHN', 'CLERK', 7902, 1000, '1981-4-6') ;

/* tb_SALGRADE */

INSERT INTO tb_SALGRADE (GRADE, LOSAL, HISAL) VALUES (1, 700, 1200);
INSERT INTO tb_SALGRADE (GRADE, LOSAL, HISAL) VALUES (2, 1201, 1400);
INSERT INTO tb_SALGRADE (GRADE, LOSAL, HISAL) VALUES (3, 1401, 2000);
INSERT INTO tb_SALGRADE (GRADE, LOSAL, HISAL) VALUES (4, 2001, 3000);
INSERT INTO tb_SALGRADE (GRADE, LOSAL, HISAL) VALUES (5, 3001, 9999);

/* tb_JOB_HISTORY */

INSERT INTO tb_JOB_HISTORY (EMPNO, JOB, START_DATE, END_DATE)
VALUES (7698, 'ASSISTANT', '1980-3-4', '1981-4-30');

INSERT INTO tb_JOB_HISTORY (EMPNO, JOB, START_DATE, END_DATE)
VALUES (7654, 'RECEPTIONIST', '1980-1-13', '1980-8-9'); 

INSERT INTO tb_JOB_HISTORY (EMPNO, JOB, START_DATE, END_DATE)
VALUES (7654, 'SALESMAN', '1980-8-10', '1981-8-12');

INSERT INTO tb_JOB_HISTORY (EMPNO, JOB, START_DATE, END_DATE)
VALUES (7788, 'RPOGRAMMER', '1980-2-13', '1982-12-3');

INSERT INTO tb_JOB_HISTORY (EMPNO, JOB, START_DATE, END_DATE)
VALUES (7876, 'TYPIST', '1980-4-12', '1981-11-13');

INSERT INTO tb_JOB_HISTORY (EMPNO, JOB, START_DATE, END_DATE)
VALUES (7876, 'OPERATOR', '1981-11-15', '1983-1-11');

INSERT INTO tb_JOB_HISTORY (EMPNO, JOB, START_DATE, END_DATE)
VALUES (7839, 'ANAYLYST', '1978-6-13', '1981-9-10');

SELECT * FROM tb_DEPT;
SELECT * FROM tb_EMP;
SELECT * FROM tb_SALGRADE;
SELECT * FROM TB_JOB_HISTORY;



